"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}window.yall=function(e){var o=function(e){if("IMG"===e.tagName){var t=e.parentNode;"PICTURE"===t.tagName&&[].slice.call(t.querySelectorAll("source")).forEach(function(e){return r(e)}),r(e)}"VIDEO"===e.tagName&&([].slice.call(e.querySelectorAll("source")).forEach(function(e){return r(e)}),r(e),!0===e.autoplay&&e.load()),"IFRAME"===e.tagName&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.classList.contains(a.lazyBackgroundClass)&&(e.classList.remove(a.lazyBackgroundClass),e.classList.add(a.lazyBackgroundLoaded))},r=function(e){for(var t in e.dataset)-1!==n.acceptedDataAttributes.indexOf("data-"+t)&&(e.setAttribute(t,e.dataset[t]),e.removeAttribute("data-"+t))},t=function t(){var e=!1;!1===e&&0<l.length&&(e=!0,setTimeout(function(){l.forEach(function(t){t.getBoundingClientRect().top<=window.innerHeight+a.threshold&&t.getBoundingClientRect().bottom>=-a.threshold&&"none"!==getComputedStyle(t).display&&(!0===a.idlyLoad&&!0===n.idleCallbackSupport?requestIdleCallback(function(){o(t)},i):o(t),t.classList.remove(a.lazyClass),l=l.filter(function(e){return e!==t}))}),e=!1,0===l.length&&!1===a.observeChanges&&n.eventsToBind.forEach(function(e){return e[0].removeEventListener(e[1],t)})},a.throttleTime))},n={intersectionObserverSupport:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,mutationObserverSupport:"MutationObserver"in window,idleCallbackSupport:"requestIdleCallback"in window,ignoredImgAttributes:["data-src","data-sizes","data-media","data-srcset","src","srcset"],acceptedDataAttributes:["data-src","data-sizes","data-media","data-srcset","data-poster"],eventsToBind:[[document,"scroll"],[document,"touchmove"],[window,"resize"],[window,"orientationchange"]]},a=_extends({lazyClass:"lazy",lazyBackgroundClass:"lazy-bg",lazyBackgroundLoaded:"lazy-bg-loaded",throttleTime:200,idlyLoad:!1,idleLoadTimeout:100,threshold:200,observeChanges:!1,observeRootSelector:"body",mutationObserverOptions:{childList:!0}},e),s="img."+a.lazyClass+",video."+a.lazyClass+",iframe."+a.lazyClass+",."+a.lazyBackgroundClass,i={timeout:a.idleLoadTimeout},l=[].slice.call(document.querySelectorAll(s));if(!0===n.intersectionObserverSupport){var c=new IntersectionObserver(function(e,r){e.forEach(function(e){if(!0===e.isIntersecting||0<e.intersectionRatio){var t=e.target;!0===a.idlyLoad&&!0===n.idleCallbackSupport?requestIdleCallback(function(){return o(t)},i):o(t),t.classList.remove(a.lazyClass),r.unobserve(t),l=l.filter(function(e){return e!==t})}})},{rootMargin:a.threshold+"px 0%"});l.forEach(function(e){return c.observe(e)})}else n.eventsToBind.forEach(function(e){return e[0].addEventListener(e[1],t)}),t();!0===n.mutationObserverSupport&&!0===a.observeChanges&&new MutationObserver(function(e){return e.forEach(function(){[].slice.call(document.querySelectorAll(s)).forEach(function(e){-1===l.indexOf(e)&&(l.push(e),!0===n.intersectionObserverSupport?c.observe(e):t())})})}).observe(document.querySelector(a.observeRootSelector),a.mutationObserverOptions)};